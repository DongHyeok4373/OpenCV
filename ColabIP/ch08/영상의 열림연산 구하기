{"cells":[{"cell_type":"code","execution_count":1,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":328,"status":"ok","timestamp":1731900627746,"user":{"displayName":"최동혁","userId":"06474868044819844255"},"user_tz":-540},"id":"L5Vd07VSubpn","outputId":"8dba32d5-eae5-4b07-dc37-64bf4c246686"},"outputs":[{"output_type":"stream","name":"stdout","text":["/bin/bash: line 1: pythion: command not found\n"]}],"source":["!pythion --version"]},{"cell_type":"code","execution_count":4,"metadata":{"id":"-ebGtn25yHaM","executionInfo":{"status":"ok","timestamp":1731900727825,"user_tz":-540,"elapsed":495,"user":{"displayName":"최동혁","userId":"06474868044819844255"}}},"outputs":[],"source":["from google.colab.patches import cv2_imshow\n","import numpy as np\n","import cv2\n","import matplotlib.pyplot as plt"]},{"cell_type":"code","execution_count":5,"metadata":{"id":"IvXVT2Ouu6Ix","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1731900737922,"user_tz":-540,"elapsed":9653,"user":{"displayName":"최동혁","userId":"06474868044819844255"}},"outputId":"70f1706e-b0e5-48ac-d459-66fa1f15a53f"},"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/gdrive\n"]}],"source":["from google.colab import drive\n","drive.mount('/content/gdrive')"]},{"cell_type":"code","execution_count":6,"metadata":{"id":"TrV1opmcyecs","executionInfo":{"status":"ok","timestamp":1731900794744,"user_tz":-540,"elapsed":961,"user":{"displayName":"최동혁","userId":"06474868044819844255"}}},"outputs":[],"source":["img1 = cv2.imread('/content/gdrive/My Drive/ColabIP/Images/picture4.png')\n","img2= cv2.imread('/content/gdrive/My Drive/ColabIP/Images/rice.bmp')"]},{"cell_type":"markdown","source":[],"metadata":{"id":"6ihmuqL7DerJ"}},{"cell_type":"code","source":["kernel = np.ones(5,5)\n","opening1 = cv2.morphologyEx(img1, cv2.MORPH_OPEN, kernel)\n","opening2 = cv2.morphologyEx(img2, cv2.MORPH_OPEN, kernel)\n","print(\"Original image\")\n","cv2_imshow(img1)\n","print(\"Binary opening\")\n","cv2_imshow(opening1)\n","print(\"Original image\")\n","cv2_imshow(img2)\n","print(\"Gray opening\")\n","cv2_imshow(opening2)"],"metadata":{"id":"7YmRyAjEKQp0","executionInfo":{"status":"error","timestamp":1731901036029,"user_tz":-540,"elapsed":322,"user":{"displayName":"최동혁","userId":"06474868044819844255"}},"colab":{"base_uri":"https://localhost:8080/","height":349},"outputId":"19f9b7e5-bc99-43a1-c061-759e9a034223"},"execution_count":9,"outputs":[{"output_type":"error","ename":"TypeError","evalue":"Cannot interpret '5' as a data type","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m<ipython-input-9-01223cc7dd7e>\u001b[0m in \u001b[0;36m<cell line: 1>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mkernel\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mones\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m5\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;36m5\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      2\u001b[0m \u001b[0mopening1\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mcv2\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mmorphologyEx\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mimg1\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcv2\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mMORPH_OPEN\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mkernel\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      3\u001b[0m \u001b[0mopening2\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mcv2\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mmorphologyEx\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mimg2\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcv2\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mMORPH_OPEN\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mkernel\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      4\u001b[0m \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Original image\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      5\u001b[0m \u001b[0mcv2_imshow\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mimg1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/numpy/core/numeric.py\u001b[0m in \u001b[0;36mones\u001b[0;34m(shape, dtype, order, like)\u001b[0m\n\u001b[1;32m    189\u001b[0m         \u001b[0;32mreturn\u001b[0m \u001b[0m_ones_with_like\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mlike\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mshape\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdtype\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mdtype\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0morder\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0morder\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    190\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 191\u001b[0;31m     \u001b[0ma\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mempty\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mshape\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdtype\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0morder\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    192\u001b[0m     \u001b[0mmultiarray\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcopyto\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ma\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcasting\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m'unsafe'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    193\u001b[0m     \u001b[0;32mreturn\u001b[0m \u001b[0ma\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mTypeError\u001b[0m: Cannot interpret '5' as a data type"]}]},{"cell_type":"code","source":["img= cv2.imread('/content/gdrive/My Drive/ColabIP/Images/rice.bmp',0)\n","gray = img\n","height, width = gray.shape"],"metadata":{"id":"FsSI8JpkQM8P"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["out = np.zeros((height+2, width+2), dtype=np.uint8)\n","out[1:height+1, 1:width+1] = gray.copy()\n","erosion = np.zeros_like(gray)\n","dilation = np.zeros_like(gray)"],"metadata":{"id":"Al8fbDZARQG2"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["for i in range(height):\n","  for j in range(width):\n","    temp = out[i:i+3, j:j+3]\n","    erosion[i, j] = np.min(temp)"],"metadata":{"id":"_49vyyyqRsZf"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["print(\"Gray input image\")\n","cv2_imshow(gray)\n","print(\"Erosion result\")\n","cv2_imshow(erosion)"],"metadata":{"id":"hKIu9ZeFR15m"},"execution_count":null,"outputs":[]}],"metadata":{"colab":{"provenance":[],"authorship_tag":"ABX9TyMmbXeiHDrvMJ+OJpX/WaHf"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}